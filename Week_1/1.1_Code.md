# Week 1.1 Code Practice: Find Your Hardware

## Simple Network Discovery
**Time:** 20 minutes | **Rule:** Maximum 5 lines per script!

---

## Script 1: My IP Address (5 minutes)

Create `my_ip.py`:

```python
import socket
sock = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
sock.connect(("8.8.8.8", 80))
print(f"My IP: {sock.getsockname()[0]}")
sock.close()
```

**Run:** `python3 my_ip.py`

---

## Script 2: Find Router (5 minutes)

Install `scapy`: 

```
pip install scapy
```

Create `router.py`:

```python
# router.py (macOS-friendly, no sudo)
from scapy.all import conf

# Route to an external IP; Scapy reads the OS routing table
_, gw, iface = conf.route.route("8.8.8.8")
print(f"Router: {gw} (via {iface})")
```

**Run:** `python3 router.py`

---

## Script 3: Test Connection (5 minutes)

Create `check_connection.py`:

```python
from scapy.all import IP, ICMP, sr1

host = "8.8.8.8"   # or your router
pkt = IP(dst=host)/ICMP()
reply = sr1(pkt, timeout=2, verbose=0)

print("✅ Reply from", reply.src if reply else "❌ No response")
```

**Run:** `sudo python3 check_connection.py`

---

## Challenge (5 minutes)

Combine all three into `network.py`:

```python
# show_path.py — real (no hard-coded router), works on macOS & Linux without sudo
from scapy.all import conf
import socket

def my_ip():
    s = socket.socket(socket.AF_INET, socket.SOCK_DGRAM)
    try:
        s.connect(("8.8.8.8", 80))         # doesn’t send traffic; picks the outbound iface
        return s.getsockname()[0]
    finally:
        s.close()

def default_gateway():
    # Ask OS routing table which gateway/interface would reach 8.8.8.8
    _, gw, iface = conf.route.route("8.8.8.8")
    return gw, iface

me = my_ip()
gw, iface = default_gateway()

if gw == "0.0.0.0":
    print(f"Me: {me} → (direct on {iface}) → Internet")
else:
    print(f"Me: {me} → Router: {gw} (via {iface}) → Internet")
```

---

## What You Learned
- Find your computer's IP address
- Discover your router (the hardware that connects you to internet)
- Test if hardware is working

**Next:** Week 1.2 - Network Types!